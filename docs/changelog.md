# 변경 내역 (Changelog)

*모든 시간은 KST(UTC+9) 기준입니다.*

---

### **v1.4.0** (2025-08-02)
- **Feature:** **API 테스트 기능 확장**
    - **통합 테스트 모드**: 메인 페이지 하단의 "API 테스트: 도서관 재고 직접 조회" 섹션에서 종이책(ISBN)과 전자책(제목) 검색을 동시에 테스트할 수 있는 통합 테스트 기능을 추가했습니다.
    - **3가지 테스트 모드**: 통합테스트(기본), 종이책재고(ISBN), 전자책재고(제목) 중 선택하여 API 동작을 검증할 수 있습니다.
    - **결과 필터링**: 각 테스트 모드에 따라 관련 결과만 표시되도록 필터링 기능을 구현했습니다.
    - **UI/UX 개선**: 테스트 유형 선택 버튼을 직관적으로 배치하고, 로딩 상태와 에러 처리를 개선했습니다.
- **Fix:** **API 통합 및 오류 해결**
    - **400 Bad Request 오류 수정**: 종이책과 전자책 API 호출 시 발생하던 400 에러를 API 엔드포인트 통합을 통해 해결했습니다.
    - **API 호출 로직 통일**: `fetchBookAvailability` 함수를 사용하여 모든 테스트 유형에서 동일한 API 엔드포인트를 호출하도록 수정했습니다.
- **Pending:** **전자책 크롤링 개선**
    - 경기도교육청 전자도서관 HTML 파싱 정규식 패턴 개선 작업이 진행 중이며, 향후 릴리즈에서 완전한 해결을 목표로 합니다.

### **v1.3.0** (2025-08-02)
- **Feature:** **가상화 테이블 UI/UX 개선**
    - **스크롤바 최적화**: '내 서재' 가상화 테이블에서 소량 데이터(15권 이하) 시 불필요한 세로 스크롤바를 제거하고, 대량 데이터(16권 이상) 시에만 가상화를 활성화하도록 개선했습니다.
    - **동적 높이 계산**: 테이블 높이가 콘텐츠에 맞게 자연스럽게 조절되도록 수정하여 더 나은 사용자 경험을 제공합니다.
    - **성능 최적화**: 500-1000권의 대용량 데이터에서도 효율적인 가상화를 유지하면서 UI 반응성을 향상시켰습니다.
- **Feature:** **도서관 재고 클릭 기능 확장**
    - **상세 페이지 연동**: 책 상세 페이지(BookDetails)와 모달(MyLibraryBookDetailModal)의 도서관 재고 현황에서도 '내 서재'와 동일한 클릭 기능을 추가했습니다.
    - **퇴촌 도서관 연결**: 상세 페이지의 "퇴촌 도서관" 재고 숫자 클릭 시 해당 도서관 검색 페이지로 직접 이동합니다.
    - **기타 도서관 연결**: 상세 페이지의 "기타 도서관" 재고 숫자 클릭 시 광주시립도서관 검색 페이지로 직접 이동합니다.
- **UI:** **폰트 일관성 개선**
    - **상세 페이지 폰트 통일**: 도서관 재고 현황의 {대출}/{재고} 폰트를 `font-mono font-bold`에서 `font-medium`으로 변경하여 상세 페이지의 다른 텍스트와 일관된 스타일을 적용했습니다.
    - **시각적 조화**: 전체 상세 페이지에서 통일된 폰트 시스템으로 깔끔하고 일관된 디자인을 제공합니다.

### **v1.2.0** (2025-08-02)
- **Feature:** **도서관 연동 및 상세 정보 개선**
    - **도서관 검색 연동**: '내 서재'의 도서관 재고 셀 클릭 시, 해당 도서관의 외부 검색 페이지로 바로 연결하는 기능을 추가했습니다.
    - **ISBN 정보 추가**: 도서 상세 정보(상세 뷰, 모달)에 ISBN(isbn13) 코드를 표시하도록 개선했습니다.
    - **알라딘 링크 추가**: 도서 상세 정보에서 해당 도서의 알라딘 페이지로 바로 이동할 수 있는 '알라딘 보기' 버튼을 추가했습니다.
- **Refactor:** **UI 스타일 및 레이아웃 개선**
    - **'내 서재' 컬럼 폭 조정**: '퇴촌lib', '기타lib', '종이책', '전자책' 컬럼의 너비를 줄여 가독성을 높였습니다.
    - **CSS 클래스 관리**: '내 서재' 테이블의 최소 너비 스타일을 인라인 스타일에서 `index.css` 파일의 전역 클래스(`.my-library-table`)로 분리하여 관리하도록 변경했습니다.
    - **스타일 일관성 확보**: 도서 상세 정보의 출판사, 출간일, ISBN 항목의 줄 간격을 통일했습니다.
- **Fix:** **검색 결과 필터링**
    - 알라딘 도서 검색 결과에서 `[세트]`로 시작하는 도서를 제외하여, 개별 도서 위주로 결과가 표시되도록 수정했습니다.

### **v1.1.1** (2025-08-01 20:50)
- **Fix:** **도서관 재고 새로고침 오류 수정**
    - '내 서재'에서 재고 새로고침 시, API 요청 형식이 올바르지 않아 `400 Bad Request` 오류가 발생하던 문제를 해결했습니다. (요청 파라미터를 `isbn`에서 `isbn13`으로 수정)
- **Chore:** **프로젝트 안정화 및 최종 정리**
    - AI 기반 '대량 등록' 기능 도입 시도 후 발생한 지속적인 앱 로딩 불안정 문제로 인해, 해당 기능 추가 이전의 안정적인 상태로 복원했습니다.
    - 프로젝트의 최종 안정화 버전으로서, 모든 관련 문서를 현재 상태에 맞게 일괄 업데이트했습니다.

### **v1.1.0** (2025-08-01 19:00)
- **Feature:** **'내 서재' 상세 정보 뷰 개선**
    - '내 서재'의 책 제목 클릭 시, 페이지를 이동하지 않고 제자리에서 상세 정보를 볼 수 있는 모달(Modal) 창이 나타나도록 변경했습니다.
    - 이 모달 뷰는 도서 기본 정보, 도서관 재고, 나의 읽음 상태 및 별점 등 모든 관련 정보를 통합하여 제공합니다.

### **v1.0.0** (2025-08-01 18:30)
- **Major Refactor:** **TypeScript 타입 시스템 구조적 개선**
    - **타입 호환성 문제 해결**: `StockInfo` 타입을 interface에서 type alias로 변경하여 Supabase `Json` 타입과의 호환성 문제를 완전히 해결했습니다.
    - **타입 캐스팅 에러 제거**: `useBookStore`에서 발생하던 "not assignable to never" 및 "excessively deep type instantiation" 에러를 해결했습니다.
    - **개발 가이드라인 추가**: `TYPESCRIPT_GUIDELINES.md` 문서를 추가하여 향후 동일한 타입 에러 재발을 방지하는 베스트 프랙티스를 제공했습니다.

### **v0.9.1** (2025-08-01 18:00)
- **Fix:** **도서관 재고 확인 안정성 강화**
    - 도서관 재고 API가 예상치 못한 대출 상태(예: '예약중', '정리중' 등)를 반환할 경우, 데이터 유효성 검사 실패로 인해 오류가 발생하던 문제를 해결했습니다.

### **v0.9.0** (2025-08-01 17:30)
- **Feature:** **'내 서재' 정렬 기능 강화**
    - **별점순**: '내 서재' 목록을 사용자가 매긴 별점 순서(높은 점수 우선)로 정렬하는 기능을 추가했습니다.
    - **읽음순**: '내 서재' 목록을 '완독' → '읽는 중' → '읽지 않음' 순서로 정렬하여 독서 진행 상황을 쉽게 파악할 수 있도록 했습니다.

### **v0.8.0** (2025-08-01 17:00)
- **Feature:** **'내 서재' 기능 확장: 독서 활동 기록**
    - **읽음 상태 관리**: '내 서재' 테이블에 '읽음' 열을 추가하여, 각 도서의 상태를 '읽지 않음', '읽는 중', '완독'으로 선택하고 저장할 수 있는 기능을 구현했습니다.
    - **별점 평가**: '별점' 열을 추가하여, 각 도서에 대해 1점에서 5점까지 별점을 매기고 저장할 수 있는 기능을 구현했습니다.

### **v0.7.0** (2025-08-01 16:30)
- **Refactor:** **Supabase 클라이언트 타입 적용 및 안정성 강화**
    - Supabase 클라이언트에 데이터베이스 스키마 타입을 적용하여 타입 추론을 강화하고 코드 안정성을 높였습니다.

### **v0.6.0** (2025-08-01 16:00)
- **Refactor:** **타입 시스템 강화 및 안정성 향상 (Zod 도입)**
    - 외부 API(알라딘, 도서관) 응답 데이터의 유효성을 런타임에 검증하도록 변경하여 서비스 안정성을 대폭 향상시켰습니다.

### **v0.5.0** (2025-08-01 15:30)
- **Refactor:** **애플리케이션 아키텍처 대규모 리팩토링 (Zustand 도입)**
    - 복잡한 상태 관리 로직을 역할별(인증, 도서, UI) 중앙 스토어로 분리하여 유지보수성을 향상시켰습니다.

### **v0.4.0** (2025-08-01 14:30)
- **Feature:** **이메일/비밀번호 인증 방식 추가**
    - 이메일/비밀번호를 이용한 회원가입 및 로그인 기능을 추가하고 UI를 개선했습니다.

### **v0.3.0** (2025-08-01 13:30)
- **Feature:** 검색 기능 확장 및 '내 서재' 정렬, CSV 내보내기 기능 강화

### **v0.2.0** (2025-08-01 11:30)
- **Feature:** 기본 도서 검색 및 개인 서재 관리 기능 구현

### **v0.1.0** (2025-08-01 09:00)
- **Initial:** 프로젝트 초기 설정 및 기본 구조 구성

---
*문서 최종 수정일: 2025-08-02 23:10*