# 변경 내역 (Changelog)

*모든 시간은 KST(UTC+9) 기준입니다.*

---

### **v1.0.0** (2025-08-01 19:20)
- **Major Refactor:** **TypeScript 타입 시스템 구조적 개선**
    - **타입 호환성 문제 해결**: `StockInfo` 타입을 interface에서 type alias로 변경하여 Supabase `Json` 타입과의 호환성 문제를 완전히 해결했습니다.
    - **타입 캐스팅 에러 제거**: `useBookStore`에서 발생하던 "not assignable to never" 및 "excessively deep type instantiation" 에러를 해결했습니다.
    - **Store 의존성 구조 검증**: 순환 의존성 없이 건전한 단방향 의존성 구조(useUIStore ← useAuthStore ← useBookStore) 확인 및 유지했습니다.
    - **외부 라이브러리 타입 분리 최적화**: Zod 스키마 기반 외부 API 타입과 내부 애플리케이션 타입 간의 분리를 명확히 했습니다.
    - **개발 가이드라인 추가**: `TYPESCRIPT_GUIDELINES.md` 문서를 추가하여 향후 동일한 타입 에러 재발을 방지하는 베스트 프랙티스를 제공했습니다.
    - **빌드 안정성 확보**: TypeScript 컴파일 에러 0개 달성 및 프로덕션 빌드 정상 작동 확인했습니다.

### **v0.9.1** (2025-08-01 18:00)
- **Fix:** **도서관 재고 확인 안정성 강화**
    - 도서관 재고 API가 예상치 못한 대출 상태(예: '예약중', '정리중' 등)를 반환할 경우, 데이터 유효성 검사 실패로 인해 오류가 발생하던 문제를 해결했습니다.
    - 대출 상태 검증 로직을 더 유연하게 변경하여, 앞으로 다양한 대출 상태 값에도 앱이 중단 없이 안정적으로 동작하도록 수정했습니다.

### **v0.9.0** (2025-08-01 17:30)
- **Feature:** **'내 서재' 정렬 기능 강화**
    - **별점순**: '내 서재' 목록을 사용자가 매긴 별점 순서(높은 점수 우선)로 정렬하는 기능을 추가했습니다.
    - **읽음순**: '내 서재' 목록을 '완독' → '읽는 중' → '읽지 않음' 순서로 정렬하여 독서 진행 상황을 쉽게 파악할 수 있도록 했습니다.

### **v0.8.0** (2025-08-01 17:00)
- **Feature:** **'내 서재' 기능 확장: 독서 활동 기록**
    - **읽음 상태 관리**: '내 서재' 테이블에 '읽음' 열을 추가하여, 각 도서의 상태를 '읽지 않음', '읽는 중', '완독'으로 선택하고 저장할 수 있는 기능을 구현했습니다.
    - **별점 평가**: '별점' 열을 추가하여, 각 도서에 대해 1점에서 5점까지 별점을 매기고 저장할 수 있는 기능을 구현했습니다.
    - **데이터베이스 연동**: 읽음 상태와 별점 데이터는 Supabase DB에 실시간으로 저장됩니다.
    - **CSV 내보내기 강화**: CSV 파일에 '읽음 상태'와 '별점' 정보를 포함하도록 업데이트했습니다.

### **v0.7.0** (2025-08-01 16:30)
- **Refactor:** **Supabase 클라이언트 타입 적용 및 안정성 강화**
    - Supabase 클라이언트에 데이터베이스 스키마 타입을 적용하여 타입 추론을 강화하고 코드 안정성을 높였습니다.
    - 불필요한 타입 캐스팅을 제거하고, DB 응답이 `null`일 경우에 대한 방어 로직을 추가했습니다.

### **v0.6.0** (2025-08-01 16:00)
- **Refactor:** **타입 시스템 강화 및 안정성 향상**
    - **Zod 라이브러리 도입**: 외부 API(알라딘, 도서관) 응답 데이터의 유효성을 런타임에 검증하도록 변경했습니다.
    - 이를 통해 예기치 않은 데이터 형식으로 인한 앱의 충돌 가능성을 원천적으로 방지하여 서비스 안정성을 대폭 향상시켰습니다.
    - 기존의 TypeScript 인터페이스들을 Zod 스키마로부터 추론하도록 변경하여, 타입 정의와 유효성 검사 로직을 항상 일치시켰습니다.

### **v0.5.0** (2025-08-01 15:30)
- **Refactor:** **애플리케이션 아키텍처 대규모 리팩토링**
    - **상태 관리 시스템 교체 (Zustand 도입)**: `App.tsx`에 집중되어 있던 복잡한 상태 관리 로직을 역할별(인증, 도서, UI) 중앙 스토어로 분리하여 컴포넌트 간 결합도를 낮추고 유지보수성을 향상시켰습니다.
    - **API 서비스 계층 분리**: 모든 외부 API 호출 로직을 `services` 폴더로 분리하여 코드의 관심사를 명확히 구분하고 재사용성을 높였습니다.
    - **컴포넌트 구조 개선**: Header, Footer 등 레이아웃 컴포넌트를 분리하여 `App.tsx`의 복잡도를 낮췄습니다.

### **v0.4.0** (2025-08-01 14:30)
- **Feature:** **사용자 인증 방식 확장**
    - 기존 Google 소셜 로그인과 더불어 **이메일/비밀번호**를 이용한 회원가입 및 로그인 기능을 추가했습니다.
    - 로그인/회원가입 UI를 별도의 팝업(Modal) 창으로 분리하여 사용자 경험을 개선했습니다.
    - 회원가입 완료, 이메일 인증 필요 등 사용자 상태에 따른 명확한 피드백 메시지(알림) 기능을 추가했습니다.
    - 중복 가입 시도, 로그인 실패 등 다양한 시나리오에 대한 오류 처리 로직을 강화했습니다.

### **v0.3.0** (2025-08-01 13:30)
- **Feature:** 검색 기능을 '저자', '출판사'로 확장하고, 모든 필드를 검색하는 '전체' 옵션을 기본값으로 추가했습니다.
- **Feature:** '내 서재'에 '추가순', '제목순', '저자순'으로 도서 목록을 정렬하는 기능을 추가했습니다.
- **Feature:** 알라딘 API와 연동하여 '내 서재'에 도서의 '전자책' 유무를 표시하고 바로가기 링크를 제공합니다.
- **Feature:** 'CSV 내보내기' 시 '퇴촌lib 재고', '기타lib 재고', '서재 추가일' 정보를 포함하도록 기능을 강화했습니다.
- **Fix:** CSV 파일에서 긴 ISBN 번호가 지수 표기법(e.g., `9.79113E+12`)으로 표시되는 문제를 해결했습니다.
- **Update:** '내 서재' 테이블의 열 이름을 '퇴촌lib', '기타lib', '전자책'으로 변경하여 가독성을 높였습니다.
- **Update:** '내 서재'의 재고 정보를 클릭하여 직접 새로고침할 수 있도록 UX를 개선했습니다.

### **v0.2.0** (2025-08-01 11:30)
- **Feature:** 기본 도서 검색 및 도서관 재고 확인 기능 구현
- **Feature:** 개인 서재 관리 기능 구현
- **Feature:** Google 소셜 로그인 구현

### **v0.1.0** (2025-08-01 09:00)
- **Initial:** 프로젝트 초기 설정 및 기본 구조 구성
- **New:** 프로젝트 관리 및 유지보수를 위한 `docs` 폴더 및 관련 문서 4종(prd.md, changelog.md, error_log.md, task_list.md)을 추가했습니다.

---
*문서 최종 수정일: 2025-08-01 19:20*