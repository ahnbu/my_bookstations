# 작업 목록 (Task List)

*KST (yyyy-mm-dd hh:mm) 기준. 주기적으로 업데이트됩니다.*

---

### **Task-013: '내 서재' 및 API 테스트 UI/UX 개선, CSV 내보내기 기능 강화, 전자책 대출 로직 수정**
- **요청일**: 2025-08-09
- **상태**: `완료 (Completed)`
- **중요도**: **높음 (High)**
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **'내 서재'의 'e북(시립구독)' 텍스트를 'e북.시독'으로 변경**. (완료: 2025-08-09)
    - [x] **'내 서재'에 'e북(시립구독)' 열 추가 및 링크 기능 구현**: 더미 데이터 '1(1)' 표시 및 광주 시립도서관 구독형 전자책 검색 페이지로 연결. (완료: 2025-08-09)
    - [x] **'e북(시립구독)' 링크 제목 추출 기준 변경**: 하이픈 이후 내용 제외 및 첫 3단어만 사용. (완료: 2025-08-09)
    - [x] **도서 상세 모달에 '전자책(시립구독)' 정보 추가**: '전자책(교육)' 아래에 '전자책(시립구독)' 항목을 추가하고, 더미 재고/대출 가능 정보를 표시하며, 클릭 시 광주 시립도서관 구독형 전자책 검색 페이지로 이동하도록 연결. (완료: 2025-08-09)
    - [x] **'e북.경기' 열 및 '전자책(경기소장)' 정보 추가**: '내 서재' 테이블에 'e북.경기' 열을 추가하고, 책 상세 페이지에 '전자책(경기소장)' 항목을 추가했습니다. 재고/대출 가능은 더미로 '1/1'을 표시하며, 클릭 시 경기도교육청 전자도서관 검색 페이지로 이동하도록 연결했습니다. 제목 처리 방식은 'e북.시독'과 동일하게 적용했습니다. (완료: 2025-08-09)
    - [x] **'e북(교육)' 링크 스타일 개선**: '내 서재' 및 도서 상세 모달의 'e북(교육)' 링크에서 마우스 오버 시 밑줄이 생기지 않도록 하고 alt 텍스트를 제거했습니다. (완료: 2025-08-09)
    - [x] **재고 0 표시 방식 통일**: 종이책 및 전자책 재고가 0인 경우, 아이콘은 회색 대시('-')로, 숫자는 '0(0)'으로 통일. (완료: 2025-08-09)
    - [x] **CSV 내보내기 한글 깨짐 현상 해결**: UTF-8 BOM 추가. (완료: 2025-08-09)
    - [x] **CSV 내보내기 '전자책재고' 열 추가**. (완료: 2025-08-09)
    - [x] **CSV 파일명에 내보내기 날짜 자동 포함**. (완료: 2025-08-09)
    - [x] **API 테스트 UI 간소화**: 제목 변경, 참고 문구 삭제, 테스트 유형 단일화. (완료: 2025-08-09)
    - [x] **API 테스트 '전자책 재고 결과' 필터링**: 종이책 관련 더미 데이터 제거. (완료: 2025-08-09)
    - [x] **전자책 대출 로직 개선**: CloudFlare Workers v3에서 전자책 대출 가능 여부 파싱 정확성 개선, 다중 정규식 패턴으로 '대출 가능 여부' 필드 추출 강화, 전자책 동시 대출 특성을 고려한 상태 판단 로직 수정, 디버그 로깅 추가로 HTML 파싱 문제 진단 개선. (완료: 2025-08-09)
    - [x] **UI/UX 개선**: 내 서재 정렬 기능을 드롭다운으로 통합, 도서 상세 모달의 종이책/전자책 재고를 '도서관 재고'로 통합, 그리드 뷰 카드 겹침 문제 해결 및 제목 말줄임표 정확성 개선, 전자책 아이콘을 다른 재고 아이콘과 통일 (✅ → ✔️), 도서 상세 모달 레이아웃을 1:1 비율로 균형 조정. (완료: 2025-08-09)
    - [x] **책 상세 페이지에 전자책 ISBN 표시**: 알라딘 API에서 제공하는 전자책의 `isbn13` 또는 `isbn` 필드를 사용하여 전자책 ISBN을 표시하도록 했습니다. (이후 숫자만 추출하는 로직은 취소됨) (완료: 2025-08-09)
    - [x] **`types.ts`의 `AladdinBookItemSchema`에 `ebookList` 항목에 `isbn13` 필드를 추가하여 타입 정의를 업데이트**. (완료: 2025-08-09)
    - [x] **기존 서재 책 전자책 ISBN13 정보 업데이트**: 기존 서재에 추가된 책들의 누락된 전자책 `isbn13` 정보를 자동으로 업데이트하는 로직을 추가했습니다. (완료: 2025-08-09)
    - [x] **기술 문서 개선**: README.md에 3-Way 통합 도서관 재고 확인 시스템 상세 문서화, API 호출 프로세스, HTML 파싱 로직, 데이터 구조 설명 추가, CloudFlare Workers 아키텍처 및 최적화 방안 문서화. (완료: 2025-08-09)
    - [x] **문서 업데이트**: `README.md`, `changelog.md`, `DEVELOPMENT.md`, `INDEX.md`, `error_log.md`, `task_list.md` 업데이트. (완료: 2025-08-09)

### **Task-012: 서비스 계층 리팩토링 및 안정화**
- **요청일**: 2025-08-03
- **상태**: `완료 (Completed)`
- **중요도**: **필수 (Critical)**
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **API 호출 로직 통합**: `library.service.ts`를 제거하고 `unifiedLibrary.service.ts`로 API 호출을 일원화. (완료: 2025-08-03)
    - [x] **상태 관리 최적화**: `useBookStore`에서 중복 API 호출 로직을 제거하고 단일 호출로 재고 및 정보를 모두 업데이트하도록 수정. (완료: 2025-08-03)
    - [x] **Cloudflare Worker 스크립트 개선**: 파싱 로직을 안정화하고, 디버깅 로그가 최소화된 운영 버전을 추가. (완료: 2025-08-03)
    - [x] **UI 편의성 개선**: 상세 정보 모달, 내 서재 테이블 레이아웃, API 테스트 기본값 등 사용자 경험 개선. (완료: 2025-08-03)

### **Task-011: API 테스트 기능 확장 및 크롤링 개선**
- **요청일**: 2025-08-02
- **상태**: `완료 (Completed)`
- **중요도**: **보통 (Medium)**
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **API 테스트 UI 개선**: 메인 페이지의 API 테스트 섹션에 3가지 테스트 모드(통합, 종이책, 전자책) 추가. (완료: 2025-08-02)
    - [x] **400 Bad Request 오류 수정**: API 엔드포인트 통합을 통한 호출 오류 해결. (완료: 2025-08-02)
    - [x] **결과 필터링 구현**: 테스트 유형별 적절한 결과만 표시하도록 개선. (완료: 2025-08-02)
    - [x] **UI/UX 개선**: 버튼 순서 조정, 로딩 상태 및 에러 처리 개선. (완료: 2025-08-02)
    - [x] **전자책 크롤링 정규식 패턴 완전 수정**: 경기도교육청 전자도서관 HTML 파싱 개선. (완료: 2025-08-03, Task-012에서 최종 해결)

### **Task-010: 가상화 테이블 최적화 및 UX 개선**
- **요청일**: 2025-08-02
- **상태**: `완료 (Completed)`
- **중요도**: **높음 (High)**
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **가상화 테이블 스크롤바 최적화**: 소량 데이터(15권 이하) 시 불필요한 세로 스크롤바 제거. (완료: 2025-08-02)
    - [x] **동적 높이 계산**: 테이블 높이가 콘텐츠에 맞게 자연스럽게 조절되도록 개선. (완료: 2025-08-02)
    - [x] **도서관 재고 클릭 기능 확장**: 상세 페이지와 모달에서도 '내 서재'와 동일한 도서관 연결 기능 추가. (완료: 2025-08-02)
    - [x] **상세 페이지 폰트 통일**: 도서관 재고 현황의 폰트를 상세 페이지의 다른 텍스트와 일관되게 수정. (완료: 2025-08-02)
    - [x] **대용량 데이터 성능 검증**: 500-1000권 데이터에서의 가상화 성능 및 UI 반응성 확인. (완료: 2025-08-02)

### **Task-009: 도서 정보 및 UI 개선**
- **요청일**: 2025-08-02
- **상태**: `완료 (Completed)`
- **중요도**: **보통 (Medium)**
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **도서관 검색 연동**: '내 서재'의 재고 셀 클릭 시 외부 도서관 검색 페이지로 연결. (완료: 2025-08-02)
    - [x] **검색 결과 필터링**: 알라딘 검색 결과에서 '[세트]' 도서 제외. (완료: 2025-08-02)
    - [x] **외부 링크 추가**: 도서 상세 정보에 '알라딘 보기' 버튼 추가. (완료: 2025-08-02)
    - [x] **UI 레이아웃 조정**: '내 서재' 테이블의 특정 컬럼 폭 축소 및 스타일 개선. (완료: 2025-08-02)
    - [x] **상세 정보 추가**: 도서 상세 뷰에 ISBN 정보 표시 및 스타일 통일. (완료: 2025-08-02)

### **Task-008: AI 기반 대량 등록 기능**
- **요청일**: 2025-08-01
- **상태**: `취소됨 (Cancelled)`
- **중요도**: **높음 (High)**
- **담당자**: byungwook.an
- **사유**: 기능 구현 후 앱 로딩 불안정성 문제 발생. 프로젝트 안정화를 위해 기능 추가를 철회하고 이전 버전으로 복원함.

### **Task-007: 프로젝트 최종 정리 및 안정화**
- **요청일**: 2025-08-01
- **상태**: `완료 (Completed)`
- **중요도**: **필수 (Critical)**
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **기능 롤백**: AI 대량 등록 기능 관련 코드 제거 및 안정 버전으로 복원. (완료: 2025-08-01 20:40)
    - [x] **잔여 버그 수정**: 도서관 재고 새로고침(400 에러) 등 남아있는 버그 수정. (완료: 2025-08-01 20:45)
    - [x] **문서 최종 업데이트**: 프로젝트의 최종 상태를 반영하여 모든 `docs` 폴더 내 문서를 일괄 업데이트. (완료: 2025-08-01 20:50)

### **Task-006: '내 서재' UI/UX 개선**
- **요청일**: 2025-07-31
- **상태**: `완료 (Completed)`
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **상세 정보 모달 도입**: '내 서재'에서 책 제목 클릭 시, 스크롤 이동 대신 상세 정보 모달이 표시되도록 개선. (완료: 2025-08-01 19:00)
    - [x] **테이블 UX 개선**: 가로 스크롤 시 헤더 고정, 재고 클릭 시 모달 열기, 새로고침 버튼 추가 등. (완료: 2025-08-01 19:00)
    - [x] **UI 세부 조정**: 삭제 확인 창 추가, 버튼 문구 변경, 열 너비 조정 등. (완료: 2025-08-01 19:00)

### **Task-005: 백엔드 연동 및 데이터베이스 전환**
- **요청일**: 2025-07-30
- **상태**: `완료 (Completed)`
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **사용자 인증 구현**: Supabase Auth를 이용한 Google 소셜 로그인 및 이메일/비밀번호 인증 기능 연동. (완료: 2025-07-30)
    - [x] **'내 서재' 데이터베이스 연동**: LocalStorage 기반 '내 서재'를 Supabase DB로 이전 및 CRUD 구현. (완료: 2025-07-30)
    - [x] **Supabase 클라이언트 타입 적용**: DB 스키마 타입을 적용하여 타입 안정성 확보. (완료: 2025-07-31)

### **Task-004: 데이터 관리 기능 확장**
- **요청일**: 2025-07-29
- **상태**: `완료 (Completed)`
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **읽음 상태 및 별점 기능 추가**: '내 서재'에서 각 도서의 읽음 상태와 별점을 기록하는 기능 추가. (완료: 2025-07-29)
    - [x] **고급 정렬 기능 추가**: '내 서재'에 '별점순', '읽음순', '출간일순' 정렬 옵션을 추가. (완료: 2025-07-29)

### **Task-003: 코드 품질 개선 및 리팩토링**
- **요청일**: 2025-07-28
- **상태**: `완료 (Completed)`
- **담당자**: byungwook.an
- **To-Do List**:
    - [x] **상태 관리 로직 분리 (Zustand)**: `App.tsx`의 상태 로직을 역할별 스토어로 분리. (완료: 2025-07-28)
    - [x] **API 로직 분리 (Service Layer)**: API 호출 로직을 `services` 폴더로 분리. (완료: 2025-07-28)
    - [x] **런타임 타입 검증 (Zod)**: 외부 API 응답을 Zod로 검증하도록 강화. (완료: 2025-07-28)

### **Task-002: 핵심 기능 구현**
- **요청일**: 2025-07-25
- **상태**: `완료 (Completed)`
- **담당자**: byungwook.an

### **Task-001: 프로젝트 초기 설정**
- **요청일**: 2025-07-24
- **상태**: `완료 (Completed)`
- **담당자**: byungwook.an

---
*문서 최종 수정일: 2025-08-09*