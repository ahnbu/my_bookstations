# (참고) 경기도 역내 도서관 서지 정보 API

경기도사이버도서관에서 제공하는 경기도 공공도서관 소장자료 종합목록 정보를 제공하는 API  → 7일 이내 신청 수락

https://www.library.kr/cyber/page/openApi

### api key

aE5FS3V6QUxISEJqRE90T0JRNUs3b1BENE90QlREMko

# 구독형, 오디오북 동작하지 않음

문의남김 : [https://www.library.kr/ggl/board/qnaboard/221](https://www.library.kr/ggl/board/qnaboard/221)

==============

안녕하세요.

전자도서관 API 이용하고자 신청하고, 테스트해보는 중에 
구독형과 소장형이 동작하지 않아서, 문의남깁니다.

가능하면 처리결과를 다음 번호로 문자 등으로 연락받고 싶습니다. 
010.3348.7728

확인 부탁드립니다. 

===============

### 홈페이지 내 OpenAPI 기준

현재 다음 사이트에서 OpenAPI 신청과 안내를 하고 있습니다. 
https://ebook.library.kr/info/open-search

제공정보 : 경기도사이버도서관이 보유한 소장형 전자책, 오디오북, 구독형 전자책 서지정보
자료제공처 : 경기도서관
신청비용 : 무료
이용대상 : 경기도서관 회원


### 테스트 결과

"글쓰기"로 홈페이지에서 검색했을때, 소장형(48건), 구독형(242건), 오디오북(3건)으로 나옵니다.
https://ebook.library.kr/search/type?contentType=EB&listType=list&page=7&sort=publishDate&asc=desc&size=12&keyword=%EA%B8%80%EC%93%B0%EA%B8%B0&searchType=all

그런데, ebookType을 소장형(ebook), 구독형(subs), 오디오북(audiobook) 변경해가면서 적용해본 결과
소장형은 동작합니다만 구독형과 오디오북은 동작하지 않습니다.

(소장형) -> 48권 (정상작동)
https://ebook.library.kr/api/open-search/ebook?ServiceKey=RqNmEGiCD6qt1OivvYQkFRG3zwOXJFTaOKA0voZCuniwBMMEqg11HkGYXcFL2j0h&searchKeyword=글쓰기&numOfRows=20&ebookType=ebook

(오디오북) -> 51권 (소장형48권   오디오북3권 결과물을 보여줌)
https://ebook.library.kr/api/open-search/ebook?ServiceKey=RqNmEGiCD6qt1OivvYQkFRG3zwOXJFTaOKA0voZCuniwBMMEqg11HkGYXcFL2j0h&searchKeyword=글쓰기&numOfRows=20&ebookType=audioebook

(구독형) -> 51권 (소장형48권   오디오북3권 결과물을 보여줌) : 구독형 보여주지 않음
https://ebook.library.kr/api/open-search/ebook?ServiceKey=RqNmEGiCD6qt1OivvYQkFRG3zwOXJFTaOKA0voZCuniwBMMEqg11HkGYXcFL2j0h&searchKeyword=글쓰기&numOfRows=20&ebookType=subs


# ‘강원국’으로 검색했을 때 결과물(api 예시)

### "강원국"으로 검색했을 때 결과물
### 경기소장형 전자책 + 오디오북 포함
-       "OWNER_NAME": "오디언" (오디오북) 이것은 빼야 함

### 요청주소
https://ebook.library.kr/api/open-search/ebook?ServiceKey=RqNmEGiCD6qt1OivvYQkFRG3zwOXJFTaOKA0voZCuniwBMMEqg11HkGYXcFL2j0h&numOfRows=100&searchKeyword={강원국}

### 응답결과 : 대출정보는 안 들어가 있음


{
  "resultCode": "0",
  "resultMsg": "SUCCESS",
  "pageNo": 1,
  "numOfRows": 100,
  "totalCount": 4,
  "data": [
    {
      "PK": "EB-4808994612959",
      "TITLE": "대통령의 글쓰기",
      "AUTHOR": "강원국",
      "PUBLISHER": "메디치미디어",
      "PUBLISH_DATE": "2014-02-25 00:00:00",
      "ISBN": "8994612955",
      "OWNER_NAME": "교보문고",
      "COVER_URL": "https://www.library.kr/attachfile/DRMContent/ebook/4808994612959/L4808994612959.jpg",
      "L_CATEGORY_NAME": "인문",
      "M_CATEGORY_NAME": "독서/작문"
    },
    {
      "PK": "EB-4801157060222",
      "TITLE": "회장님의 글쓰기",
      "AUTHOR": "강원국",
      "PUBLISHER": "메디치미디어",
      "PUBLISH_DATE": "2014-12-10 00:00:00",
      "ISBN": "9791157060221",
      "OWNER_NAME": "교보문고",
      "COVER_URL": "https://www.library.kr/attachfile/DRMContent/ebook/4801157060222/L4801157060222.jpg",
      "L_CATEGORY_NAME": "경영/경제",
      "M_CATEGORY_NAME": "자기계발"
    },
    {
      "PK": "EB-4801157061267",
      "TITLE": "강원국의 글쓰기",
      "AUTHOR": "강원국",
      "PUBLISHER": "메디치미디어",
      "PUBLISH_DATE": "2018-06-25 00:00:00",
      "ISBN": "9791157061266",
      "OWNER_NAME": "교보문고",
      "COVER_URL": "https://www.library.kr/attachfile/DRMContent/ebook/4801157061267/L4801157061267.jpg",
      "L_CATEGORY_NAME": "인문",
      "M_CATEGORY_NAME": "독서/작문"
    },
    {
      "PK": "EB-4801193591018",
      "TITLE": "강원국의 인생 공부",
      "AUTHOR": "강원국",
      "PUBLISHER": "디플롯",
      "PUBLISH_DATE": "2024-01-10 21:00:00",
      "ISBN": "9791193591017",
      "OWNER_NAME": "교보문고",
      "COVER_URL": "https://ebookdrm.library.kr/upload/20050/content/ebook/4801193591018/L4801193591018.jpg",
      "L_CATEGORY_NAME": "인문",
      "M_CATEGORY_NAME": "인문학일반"
    }
  ]
}

# API 가이드

[ebook.library.kr /info/open-search](https://ebook.library.kr/info/open-search)

### 경기도사이버도서관 | 전자책서비스

6-8 minutes

---

#### 요청

###### 서비스 URL

https://ebook.library.kr/api/open-search/ebook

###### 요청변수(Request Parameter)

subs: 구독형

항목명(국문),항목명(영문),항목구분,샘플데이터,항목설명 항목을 가진 요청변수(Request Parameter)표 입니다.
|항목명(국문)|항목명(영문)|항목구분|샘플데이터|항목설명|
|---|---|---|---|---|
|서비스키|ServiceKey|필수|-|공공데이터포털에서 받은 인증키|
|페이지 번호|pageNo|옵션|기본값: 1|페이지번호|
|한 페이지 결과 수|numOfRows|옵션|기본값: 10|한 페이지 결과 수|
|정렬|sort|옵션|relevance: 관련도  <br>title: 제목  <br>author: 저자  <br>publisher: 출판사  <br>inputDate: 입력일  <br>publishDate: 출판일  <br>lCategoryKey: 대분류 카테고리 키  <br>mCategoryKey: 중분류 카테고리 키  <br>ownerCode: 유통사 코드|정렬기준|
|정렬순서|asc|옵션|asc: 오름차순  <br>desc: 내림차순|정렬순서|
|전자책 타입|ebookType|옵션|ebook: 소장형  <br>audiobook: 오디오북|전자책 타입|
|검색 필드|searchType|옵션|title: 도서명  <br>author: 저자명  <br>publisher: 출판사명|검색 키워드가 적용될 필드 정보|
|검색 키워드|searchKeyword|옵션|기본값: (공백)  <br>(공백): 키워드 검색 안 함|검색을 수행할 키워드|

###### 출력결과(Request Element)

항목명(국문),항목명(영문),샘플데이터,항목설명 항목을 가진 출력결과(Response Element)표 입니다.
|항목명(국문)|항목명(영문)|샘플데이터|항목설명|
|---|---|---|---|
|결과코드|resultCode|0 \| 1|결과코드|
|결과메시지|resultMsg|SUCCESS|결과메시지|
|한 페이지 결과 수|numOfRows|10|한 페이지 결과 수|
|페이지 번호|pageNo|1|페이지번호|
|전체 결과 수|totalCount|999|전체 결과 수|
|전자책 고유키|PK|EB-4808954447539|전자책 고유키|
|도서명|TITLE|나의 수호신 크리커|도서명|
|저자명|AUTHOR|이송현|저자명|
|출판사명|PUBLISHER|자음과모음|출판사명|
|출판일자|PUBLISH_DATE|2021-11-03 15:00:00|출판일자|
|ISBN|ISBN|8954447538|ISBN|
|납품사명|OWNER_NAME|교보문고|납품사명|
|도서 표지 url|COVER_URL|https://www.library.kr/attachfile/DRMContent/ebook/4808954447539/L4808954447539.jpg|도서 표지 url|
|대분류 카테고리명|L_CATEGORY_NAME|청소년|대분류 카테고리명|
|중분류 카테고리명|M_CATEGORY_NAME|문학|중분류 카테고리명|

###### 응답코드

resultCode,resultMsg,설명 항목을 가진 응답코드표 입니다.
|resultCode|resultMsg|설명|
|---|---|---|
|0|SUCCESS|정상응답|
|1|INVALID_TOKEN|토큰오류|
|2|INVALID_PARAMETER|요청오류|
|99|UNKNOWN_ERROR|기타오류|

#### 인증키 발급현황

|구분|발급일자|상태|인증키|
|---|---|---|---|
|로그인 후 확인 가능합니다.|   |   |   |